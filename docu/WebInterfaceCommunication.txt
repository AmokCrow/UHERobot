
UHERobot specification for communication between the web interface and the daemon, of the communication between the server and the client.

1. Overview

1.1 Messaging method
The server and the client will exchenge information by AJAX calls made by the client. The call will be made to a server-side resource named cgi-bin/uheint.py . 

Communication will be made whenever the user issues a command, or every 200ms. If the user has not issued any commands, either a heartbeat or a halt command will be sent. If the last user input was to effect movement, a heartbeat will be sent. If the last command was to halt movement, this will be resent instead. If no communication has happened in 2 seconds, a timeout occurs and both the server and client shall react accordingly.

1.2 Message contents
The client-to-server message carries a command payload in JSON format. Each JSON packet may have one or more of the following fields and values:

movement : forward | reverse | right | left | straight | halt | faster | slower
camera : up | down | left | right
heartbeat : 

The AJAX calls may return either empty, or with a JSON payload with one or more of the following fields and values:

statuslog : <a text string> (to be appended to the on-screen scrolling status field)
battery : <a text string> (the current state of the robot battery)
movementstatus : <text string> (signifies the current effected movement of the robot)
 

